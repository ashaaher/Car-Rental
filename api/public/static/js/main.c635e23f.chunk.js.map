{"version":3,"sources":["pages/Home.jsx","app.config.js","components/LoginForm.jsx","pages/Login.jsx","libs/apiClient.js","components/ErrorSnackbar.js","components/Loading.jsx","pages/ProfilePage.jsx","utils/validations.js","pages/RegistrationForm.jsx","components/SearchBar.jsx","pages/CustomerVehicles.jsx","pages/Settings.jsx","components/editors/LocationEditor.jsx","pages/Locations.jsx","components/editors/VehicleEditor.jsx","pages/Vehicles.jsx","pages/Users.jsx","components/editors/VehicleTypeEditor.jsx","pages/VehicleType.jsx","pages/Bookings.jsx","components/LoginButton.jsx","components/AppHeader.jsx","AppWithRouterAccess.jsx","App.jsx","index.js"],"names":["withOktaAuth","props","this","authState","isPending","Typography","variant","align","component","Component","url","issuer","redirect_uri","window","location","origin","client_id","cookies","secure","withStyles","theme","card","width","maxWidth","cardContent","display","flexDirection","margin","cardField","marginTop","spacing","classes","authService","useOktaAuth","useState","sessionToken","setSessionToken","username","setUsername","password","setPassword","redirect","className","root","onSubmit","e","preventDefault","OktaAuth","pkce","config","signIn","then","res","catch","err","console","log","CardContent","TextField","id","label","value","onChange","target","type","CardActions","Button","color","disableElevation","Link","to","Login","isAuthenticated","pathname","endpoint","options","a","fetch","headers","ok","Error","text","json","patchBody","body","Object","keys","map","item","propName","apiClient","compose","withState","uuid","snackbarContent","backgroundColor","palette","error","dark","message","alignItems","icon","fontSize","iconVariant","opacity","marginRight","onClose","Snackbar","open","autoHideDuration","SnackbarContent","aria-describedby","action","IconButton","key","aria-label","onClick","Close","Loading","style","position","top","left","state","loading","user","getCurrentUser","bind","getUser","setState","sub","method","logout","startDate","Date","updated_at","gutterBottom","name","email","toLocaleString","setMonth","getMonth","deleteUser","React","required","undefined","mustBeNumber","isNaN","minValue","min","maxValue","max","validateCardNumber","number","RegExp","test","val","sum","i","length","intVal","parseInt","substr","luhnCheck","composeValidators","validators","reduce","validator","modalCard","modalCardContent","oktaAuth","checkAuthentication","handleSubmit","getIdToken","data","repeatPassword","Accept","JSON","stringify","response","Card","validate","input","meta","touched","multiline","rows","SearchBar","onSearch","locations","initialValues","locationId","modalField","Select","labelId","autoFocus","loc","MenuItem","_id","dateInput","selected","showTimeSelect","timeFormat","timeIntervals","timeCaption","dateFormat","placeholderText","button","size","withRouter","modal","justifyContent","marginLeft","textAlign","height","CustomerVehicles","vehicles","startTime","endTime","getInitialData","searchParams","Math","floor","abs","searchQuery","search","searchText","vehicle","confirm","vehicleId","userId","toISOString","alert","mainContainer","getVehicles","Paper","elevation","posts","List","vehicleLocation","find","v","ListItem","ListItemText","primary","make","secondary","model","bookVehicle","padding","maxHeight","overflow","fab","bottom","right","breakpoints","down","Settings","settings","getSettings","history","goBack","LocationEditor","locationV","onSave","readOnly","Modal","disabled","Locations","saveLocation","reqBody","address","capacity","getLocations","deleteLocation","renderEditor","match","params","event","Fab","Add","exact","path","render","VehicleEditor","vehicleTypes","InputLabel","Vehicles","saveVehicle","vehicleTypeId","licencePlateNumber","stateOfRegistration","condition","mileage","deleteVehicle","vehicleType","Users","users","getUsers","profile","firstName","lastName","ListItemSecondaryAction","revokeMembership","VehicleTypeEditor","VehicleType","saveVehicleType","description","rates","rate1","push","rate","start","start1","end","end1","rate2","start2","end2","rate3","start3","end3","getVehicleTypes","deleteVehicleType","vehicleTypeRates","Bookings","booking","pricing","actualReturnTime","getBookings","cancel","getPrice","round","totalPrice","totalHours","lateFee","deleteBooking","authenticated","menuAnchorEl","login","auth","handleMenuClose","handleMenuOpen","currentTarget","menuPosition","vertical","horizontal","AccountCircle","Menu","anchorEl","anchorOrigin","transformOrigin","AppHeader","role","handleChange","newValue","groups","includes","AppBar","Toolbar","Tabs","Tab","tabLink","flex","AppWithRouterAccess","useHistory","clientId","redirectUri","onAuthRequired","Home","ProfilePage","RegistrationForm","LoginCallback","main","CssBaseline","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.c635e23f.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport { withOktaAuth } from '@okta/okta-react';\nimport {\n  Typography,\n} from '@material-ui/core';\n\nexport default withOktaAuth(class Home extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    if (this.props.authState.isPending) { \n      return <div>Loading...</div>;\n    }\n\n    return (\n      <Typography variant=\"h4\" align=\"center\" component=\"h3\">\n          Welcome to Car Rental Application\n      </Typography>\n    );\n  }\n});","export default {\n  url: 'https://dev-221342.okta.com',\n  issuer: 'https://dev-221342.okta.com/oauth2/default',\n  redirect_uri: window.location.origin + '/implicit/callback',\n  client_id: '0oa3767vj8XG8KEa3357',\n  cookies: {secure: false}\n};\n","import React, { useState } from 'react';\nimport OktaAuth from '@okta/okta-auth-js';\nimport { useOktaAuth } from '@okta/okta-react';\nimport { Link } from 'react-router-dom';\nimport config from '../app.config';\n\nimport {\n  withStyles,\n  CardContent,\n  CardActions,\n  Button,\n  TextField,\n  Typography,\n} from '@material-ui/core';\n\n\nconst styles = theme => ({\n  card: {\n    width: '90%',\n    maxWidth: 500,\n  },\n  cardContent: {\n    display: 'flex',\n    flexDirection: 'column',\n    maxWidth: 500,\n    margin: 'auto'\n  },\n  cardField: {\n    marginTop: theme.spacing(4),\n  },\n  marginTop: {\n    marginTop: theme.spacing(3),\n  },\n});\n\nconst LoginForm = ({ issuer, classes }) => { \n\n  const { authService } = useOktaAuth();\n  const [sessionToken, setSessionToken] = useState();\n  const [username, setUsername] = useState();\n  const [password, setPassword] = useState();\n  \n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const oktaAuth = new OktaAuth({ issuer: issuer, pkce: false, cookies: config.cookies });\n    oktaAuth.signIn({ username, password })\n      .then(res => setSessionToken(res.sessionToken))\n      .catch(err => console.log('Found an error', err));\n  };\n\n  const handleUsernameChange = (e) => {\n    setUsername(e.target.value);\n  };\n\n  const handlePasswordChange = (e) => {\n    setPassword(e.target.value);\n  };\n\n  if (sessionToken) {\n    authService.redirect({ sessionToken });\n    return null;\n  }\n\n  return (\n    \n    <form className={classes.root} onSubmit={handleSubmit}>\n      <CardContent className={classes.cardContent}>\n        <Typography variant=\"h5\" component=\"h3\">\n          Car Rental Application\n        </Typography>\n        <TextField\n          id=\"username\" label=\"Username\"\n          value={username}\n          onChange={handleUsernameChange} \n        />\n        <TextField\n          id=\"password\" type=\"password\"\n          label=\"Password\"\n          value={password}\n          onChange={handlePasswordChange} \n          />\n          <CardActions>\n            <Button variant=\"contained\" color=\"primary\" disableElevation type=\"submit\">Login</Button>\n            <Button variant=\"contained\" component={Link} to=\"/register\" disableElevation>Register</Button>\n          </CardActions>\n      </CardContent>\n    </form>\n  );\n};\nexport default withStyles(styles)(LoginForm);","import React from 'react';\nimport { useOktaAuth } from '@okta/okta-react';\nimport { Redirect } from 'react-router-dom';\nimport LoginForm from '../components/LoginForm';\n\nconst Login = ({ issuer }) => { \n  const { authState } = useOktaAuth();\n\n  if (authState.isPending) { \n    return <div>Loading...</div>;\n  }\n  return authState.isAuthenticated ?\n    <Redirect to={{ pathname: '/' }}/> :\n    <LoginForm issuer={issuer} />;\n};\n\nexport default Login;","async function apiClient(endpoint, options) {\n    try {\n        const res = await fetch(endpoint, {\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization' : 'Basic YWRtaW46YWRtaW4='\n            }, \n            ...options\n        });\n        if (!res.ok) {\n            throw new Error(await res.text());\n        }\n        return res.json();\n    } catch (error) {\n        throw new Error(error)\n    }\n}\n\nexport function patchBody(body) {\n    return Object.keys(body).map(item => ({propName: item, value: body[item]}));\n}\n\nexport default apiClient;","import React from 'react';\nimport {\n  withStyles,\n  Snackbar,\n  SnackbarContent,\n  IconButton,\n} from '@material-ui/core';\nimport { Error as ErrorIcon, Close as CloseIcon } from '@material-ui/icons';\nimport { compose, withState } from 'recompose';\nimport uuid from 'uuid/v4';\n\nconst styles = theme => ({\n  snackbarContent: {\n    backgroundColor: theme.palette.error.dark,\n  },\n  message: {\n    display: 'flex',\n    alignItems: 'center',\n  },\n  icon: {\n    fontSize: 20,\n  },\n  iconVariant: {\n    opacity: 0.9,\n    marginRight: theme.spacing(1),\n  },\n});\n\nconst ErrorSnackbar = ({ id, message, onClose, classes }) => (\n  <Snackbar\n    open\n    autoHideDuration={6000}\n    onClose={onClose}\n  >\n    <SnackbarContent\n      className={`${classes.margin} ${classes.snackbarContent}`}\n      aria-describedby={id}\n      message={\n        <span id={id} className={classes.message}>\n          <ErrorIcon className={`${classes.icon} ${classes.iconVariant}`} />\n          {message}\n        </span>\n      }\n      action={[\n        <IconButton key=\"close\" aria-label=\"Close\" color=\"inherit\" onClick={onClose}>\n          <CloseIcon className={classes.icon} />\n        </IconButton>\n      ]}\n    />\n  </Snackbar>\n);\n\nexport default compose(\n  withState('id', 'setId', uuid),\n  withStyles(styles),\n)(ErrorSnackbar);\n","import React from 'react';\n\nconst Loading = () => {\n    return <div style={{\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\" \n    }}>\n        <h4>Loading...</h4>\n    </div>\n}\n\nexport default Loading;","import React from 'react';\nimport { withOktaAuth } from '@okta/okta-react';\nimport {\n  Typography,\n  Button,\n  CardContent,\n  CardActions\n} from '@material-ui/core';\nimport apiClient from '../libs/apiClient';\nimport ErrorSnackbar from '../components/ErrorSnackbar';\nimport Loading from '../components/Loading';\n\nexport default withOktaAuth(\n  class ProfilePage extends React.Component {\n    constructor(props) {\n      super(props);\n      this.state = { loading: true, error: null, user: null };\n      this.getCurrentUser = this.getCurrentUser.bind(this);\n    }\n\n    async getCurrentUser() {\n      this.props.authService.getUser().then(user => this.setState({ user, loading: false }));\n    }\n\n    componentDidMount() {\n      this.getCurrentUser();\n    }\n\n    async deleteUser() {\n      try {\n        await apiClient(`/api/users/${this.state.user.sub}`, { method: \"DELETE\" })\n        this.props.authService.logout();\n      } catch (error) {\n        this.setState({ error })\n      }\n    }\n\n    render() {\n      if (this.props.authState.isPending || this.state.loading) {\n        return <Loading />;\n      }\n      if (!this.state.user) return null;\n      const startDate = new Date(this.state.user.updated_at * 1000);\n      return (\n        <section className=\"user-profile\">\n          <CardContent>\n            <Typography color=\"textSecondary\" gutterBottom>\n              Name\n            </Typography>\n            <Typography variant=\"h5\" gutterBottom>\n              {this.state.user.name}\n            </Typography>\n            <Typography color=\"textSecondary\" gutterBottom>\n              Email\n            </Typography>\n            <Typography variant=\"h5\" gutterBottom>\n              {this.state.user.email}\n            </Typography>\n            <Typography color=\"textSecondary\" gutterBottom>\n              User Since\n              </Typography>\n            <Typography variant=\"h5\" gutterBottom>\n              {startDate.toLocaleString()}\n            </Typography>\n            <Typography color=\"textSecondary\" gutterBottom>\n              Membership Valid Upto\n              </Typography>\n            <Typography variant=\"h5\" gutterBottom>\n              {new Date(startDate.setMonth(startDate.getMonth() + 6)).toLocaleString()}\n            </Typography>\n            <CardActions>\n              <Button variant=\"contained\" onClick={() => { this.deleteUser() }}>Cancel Subscription</Button>\n            </CardActions>\n          </CardContent>\n          {this.state.error && (\n            <ErrorSnackbar\n              onClose={() => this.setState({ error: null })}\n              message={this.state.error.message}\n            />\n          )}\n        </section>\n      );\n    }\n  }\n);\n","export const required = value => (value ? undefined : \"Required\");\n\nexport const mustBeNumber = value => (value !== undefined && isNaN(value) ? \"Must be a number\" : undefined);\n\nexport const minValue = min => value =>\n    isNaN(value) || value >= min ? undefined : `Should be greater than ${min}`;\n\nexport const maxValue = max => value =>\n    isNaN(value) || value <= max ? undefined : `Should be less than ${max}`;\n\n\nexport function validateCardNumber(number) {\n    var regex = new RegExp(\"^[0-9]{16}$\");\n    if (!regex.test(number))\n        return \"Invalid Credit Card Number\";\n\n    return luhnCheck(number) ? undefined : \"Invalid Credit Card Number\";\n}\n\nfunction luhnCheck(val) {\n    var sum = 0;\n    for (var i = 0; i < val.length; i++) {\n        var intVal = parseInt(val.substr(i, 1));\n        if (i % 2 == 0) {\n            intVal *= 2;\n            if (intVal > 9) {\n                intVal = 1 + (intVal % 10);\n            }\n        }\n        sum += intVal;\n    }\n    return (sum % 10) == 0;\n}\n\nexport const composeValidators = (...validators) => value =>\n    validators.reduce((error, validator) => error || validator(value), undefined);","import React from 'react';\nimport OktaAuth from '@okta/okta-auth-js';\nimport { withOktaAuth } from '@okta/okta-react';\n\nimport config from '../app.config';\nimport {\n  withStyles,\n  CardContent,\n  CardActions,\n  Button,\n  TextField,\n  Card,\n  Typography,\n} from '@material-ui/core';\nimport { Form, Field } from 'react-final-form';\nimport ErrorSnackbar from '../components/ErrorSnackbar';\nimport { required, composeValidators, mustBeNumber, validateCardNumber } from '../utils/validations';\n\nconst styles = theme => ({\n  modalCard: {\n    width: '60%',\n    maxWidth: 800,\n    margin: 'auto'\n  },\n  modalCardContent: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  marginTop: {\n    marginTop: theme.spacing(2),\n  },\n});\n\nexport default withStyles(styles)(withOktaAuth(\n  class RegistrationForm extends React.Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        sessionToken: null,\n        error: null\n      };\n\n      this.oktaAuth = new OktaAuth({ issuer: config.issuer, pkce: false, cookies: config.cookies });\n      this.checkAuthentication = this.checkAuthentication.bind(this);\n      this.checkAuthentication();\n      this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    async checkAuthentication() {\n      const sessionToken = await this.props.authService.getIdToken();\n      if (sessionToken) {\n        this.setState({ sessionToken });\n      }\n    }\n\n    componentDidUpdate() {\n      this.checkAuthentication();\n    }\n\n    async handleSubmit(data) {\n      if (data.password !== data.repeatPassword) {\n        this.setState({\n          error: {\n            message: \"Passwords don't match\"\n          }\n        })\n        return;\n      }\n      fetch('/api/users', {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(data)\n      }).then(response => {\n        if (!response.ok) {\n          throw new Error('Registration failed');\n        }\n        this.oktaAuth\n          .signIn({\n            username: data.email,\n            password: data.password\n          })\n          .then(res =>\n            this.setState({\n              sessionToken: res.sessionToken\n            })\n          );\n      }).catch(err => {\n        this.setState({ error: err })\n      });\n    }\n\n    render() {\n      const { classes } = this.props;\n      if (this.state.sessionToken) {\n        this.props.authService.redirect({ sessionToken: this.state.sessionToken });\n        return null;\n      }\n      return <Form onSubmit={this.handleSubmit}>\n        {({ handleSubmit }) => (<Card className={classes.modalCard}>\n          <form onSubmit={handleSubmit}>\n            <Typography variant=\"h5\">Registration</Typography>\n            <CardContent className={classes.modalCardContent}>\n              <Field name=\"email\" validate={required}>\n                {({ input, meta }) => <>\n                  <TextField label=\"Email\"  {...input} />\n                  {meta.error && meta.touched && <span style={{color:\"red\"}}>{meta.error}</span>}\n                </>}\n              </Field>\n              <Field name=\"firstName\" validate={required}>\n                {({ input, meta }) => <>\n                  <TextField label=\"First Name\"  {...input} />\n                  {meta.error && meta.touched && <span style={{color:\"red\"}}>{meta.error}</span>}\n                </>}\n              </Field>\n              <Field name=\"lastName\" validate={required}>\n                {({ input, meta}) => <>\n                  <TextField label=\"Last Name\"  {...input} />\n                  {meta.error && meta.touched && <span style={{color:\"red\"}}>{meta.error}</span>}\n                </>}\n              </Field>\n              <Field name=\"password\" validate={required}>\n                {({ input,meta }) => <>\n                  <TextField label=\"Password\"  type=\"password\" {...input} />\n                  {meta.error && meta.touched && <span style={{color:\"red\"}}>{meta.error}</span>}\n                </>}\n              </Field>\n              <Field name=\"repeatPassword\" validate={required}>\n                {({ input, meta }) => <>\n                  <TextField label=\"Confirm Password\" type=\"password\" {...input} />\n                  {meta.error && meta.touched && <span style={{color:\"red\"}}>{meta.error}</span>}\n                </>}\n              </Field>\n              <Field name=\"address\" validate={required}>\n                {({ input, meta }) => <>\n                <TextField label=\"Address\" multiline\n                  rows={4} {...input} />\n                  {meta.error && meta.touched && <span style={{color:\"red\"}}>{meta.error}</span>}\n                  </>}\n              </Field>\n              <Field name=\"licenceNumber\" validate={required}>\n                {({ input, meta }) => <>\n                  <TextField label=\"Driving Licence Number\"  {...input} />\n                  {meta.error && meta.touched && <span style={{color:\"red\"}}>{meta.error}</span>}\n                </>}\n              </Field>\n              <Field name=\"stateOfResidence\" validate={required}>\n                {({ input, meta }) => <>\n                  <TextField label=\"Driving Licence State\"  {...input} />\n                  {meta.error && meta.touched && <span style={{color:\"red\"}}>{meta.error}</span>}\n                </>}\n              </Field>\n              <Field name=\"nameOnCard\" validate={required}>\n                {({ input, meta }) => <>\n                  <TextField label=\"Name on Card\"  {...input} />\n                  {meta.error && meta.touched && <span style={{color:\"red\"}}>{meta.error}</span>}\n                </>}\n              </Field>\n              <Field name=\"cardNumber\" validate={composeValidators(required, mustBeNumber, validateCardNumber)}>\n                {({ input, meta }) => <>\n                  <TextField label=\"Card Number\"  {...input} />\n                  {meta.error && meta.touched && <span style={{color:\"red\"}}>{meta.error}</span>}\n                </>}\n              </Field>\n              <Field name=\"cvv\" validate={composeValidators(required, mustBeNumber)}>\n                {({ input, meta }) => <>\n                  <TextField label=\"CVV\"  {...input} />\n                  {meta.error && meta.touched && <span style={{color:\"red\"}}>{meta.error}</span>}\n                </>}\n              </Field>\n              <Field name=\"expirationDate\" validate={required}>\n                {({ input, meta }) => <>\n                  <TextField label=\"Expiration Date (MM/YY)\"  {...input} />\n                  {meta.error && meta.touched && <span style={{color:\"red\"}}>{meta.error}</span>}\n                </>}\n              </Field>\n\n            </CardContent>\n            <CardActions>\n              <Button variant=\"contained\" color=\"primary\" disableElevation type=\"submit\">Register</Button>\n            </CardActions>\n            {this.state.error && (\n              <ErrorSnackbar\n                onClose={() => this.setState({ error: null })}\n                message={this.state.error.message}\n              />\n            )}\n          </form>\n        </Card>)}\n      </Form>\n\n    }\n  }\n));\n","import React from 'react';\nimport {\n    withStyles,\n    CardContent,\n    Button,\n    TextField,\n    Select,\n    MenuItem,\n} from '@material-ui/core';\nimport { withOktaAuth } from '@okta/okta-react';\nimport { compose } from 'recompose';\nimport { withRouter } from 'react-router-dom';\nimport { Form, Field } from 'react-final-form';\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { required } from '../utils/validations';\n\nconst styles = theme => ({\n    modal: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    modalCard: {\n        width: '60%',\n        maxWidth: 800\n    },\n    modalCardContent: {\n        display: 'flex',\n        flexDirection: 'row',\n    },\n    marginTop: {\n        marginTop: theme.spacing(2),\n    },\n    modalField: {\n        width: \"25%\",\n        marginLeft: \"20px\"\n    },\n    dateInput: {\n        marginLeft: \"20px\",\n        textAlign: \"center\",\n        height: \"35px\",\n        marginTop: \"15px\",\n        fontSize: \"14px\"\n    },\n    button: {\n        marginLeft: '20px'\n    }\n});\n\nclass SearchBar extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        const { classes, onSearch, locations } = this.props;\n        return <Form initialValues={{ locationId: 'all' }} onSubmit={onSearch}>\n            {({ handleSubmit }) => (\n                <form onSubmit={handleSubmit}>\n                    <CardContent className={classes.modalCardContent}>\n                        <Field name=\"searchText\" validate={required}>\n                            {({ input, meta }) => <>\n                                <TextField className={classes.modalField} label=\"Name of the vehicle\" {...input} />\n                                {meta.error && meta.touched && <span style={{ color: \"red\" }}>*</span>}\n                            </>}\n                        </Field>\n                        <Field name=\"locationId\">\n                            {({ input }) => <>\n                                <Select\n                                    className={classes.modalField}\n                                    labelId=\"demo-simple-select-label\"\n                                    id=\"demo-simple-select\"\n                                    autoFocus\n                                    {...input}\n                                >\n                                    {\n                                        locations.map(loc => {\n                                            return <MenuItem value={loc._id}>{loc.name}</MenuItem>\n                                        })\n                                    }\n                                </Select>\n                            </>}\n                        </Field>\n                        <Field name=\"startTime\" validate={required}>\n                            {({ input, meta }) => <>\n                                <DatePicker\n                                    className={classes.dateInput}\n                                    selected={input.value}\n                                    showTimeSelect\n                                    timeFormat=\"HH:mm\"\n                                    timeIntervals={60}\n                                    timeCaption=\"time\"\n                                    dateFormat=\"MMMM d, yyyy h:mm aa\"\n                                    placeholderText=\"Select pickup time\"\n                                    {...input}\n                                />\n                                {meta.error && meta.touched && <span style={{ color: \"red\" }}>*</span>}\n\n                            </>}\n                        </Field>\n                        <Field name=\"endTime\" validate={required}>\n                            {({ input, meta }) => <>\n                                <DatePicker\n                                    className={classes.dateInput}\n                                    selected={input.value}\n                                    showTimeSelect\n                                    timeFormat=\"HH:mm\"\n                                    timeIntervals={60}\n                                    timeCaption=\"time\"\n                                    dateFormat=\"MMMM d, yyyy h:mm aa\"\n                                    placeholderText=\"Select return time\"\n                                    {...input}\n                                />\n                                {meta.error && meta.touched && <span style={{ color: \"red\" }}>*</span>}\n                            </>}\n                        </Field>\n                        <Button variant=\"contained\" className={classes.button} size=\"small\" color=\"primary\" type=\"submit\">Search</Button>\n                    </CardContent>\n                </form>\n            )}\n        </Form>\n    }\n}\n\nexport default compose(\n    withOktaAuth,\n    withRouter,\n    withStyles(styles),\n)(SearchBar);\n","import React, { Component } from 'react';\nimport {\n  withStyles,\n  Typography,\n  Paper,\n  Button,\n  List,\n  ListItem,\n  ListItemText,\n} from '@material-ui/core';\nimport { withOktaAuth } from '@okta/okta-react';\nimport { compose } from 'recompose';\nimport SearchBar from '../components/SearchBar';\nimport apiClient from '../libs/apiClient';\nimport ErrorSnackbar from '../components/ErrorSnackbar';\nimport { withRouter, useHistory } from 'react-router-dom';\nimport Loading from '../components/Loading';\n\nconst styles = theme => ({\n  mainContainer: {\n    margin: theme.spacing(3)\n  },\n  posts: {\n    marginTop: theme.spacing(2),\n    padding: theme.spacing(3),\n    maxHeight: '500px',\n    overflow: 'auto',\n    margin: theme.spacing(3),\n  },\n  fab: {\n    position: 'absolute',\n    bottom: theme.spacing(3),\n    right: theme.spacing(3),\n    [theme.breakpoints.down('xs')]: {\n      bottom: theme.spacing(2),\n      right: theme.spacing(2),\n    },\n  },\n});\n\nclass CustomerVehicles extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      locations: [],\n      vehicles: [],\n      error: null,\n      startTime: null,\n      endTime: null\n    }\n  }\n\n  componentDidMount() {\n    this.getInitialData();\n  }\n\n  async getInitialData() {\n    try {\n      const locations = await apiClient('/api/locations', { method: \"GET\" });\n      this.setState({\n        loading: false,\n        locations\n      });\n    } catch (error) {\n      this.setState({ loading: false, error })\n    }\n\n  }\n\n  async getVehicles(searchParams) {\n    try {\n      const { startTime, endTime } = searchParams;\n      if (startTime > endTime) {\n        throw new Error(\"Start time cannot be earlier than return time\")\n      }\n      if(Math.floor(Math.abs(startTime - endTime) / 36e5) > 72) {\n        throw new Error(\"Cannot book for more than 72 hours\")\n      }\n      let searchQuery = { search: {} };\n      if (searchParams.searchText) {\n        searchQuery.search.searchText = searchParams.searchText;\n      }\n      if (searchParams.locationId && searchParams.locationId !== 'all') {\n        searchQuery.search.locationId = searchParams.locationId;\n      }\n      const vehicles = await apiClient(\n        '/api/vehicles/search',\n        {\n          method: \"POST\",\n          body: JSON.stringify(searchQuery)\n        }\n      );\n      this.setState({\n        vehicles,\n        startTime,\n        endTime\n      })\n    } catch (error) {\n      this.setState({\n        error\n      })\n    }\n\n\n  }\n\n  async bookVehicle(vehicle) {\n    if (window.confirm(`Selected vehicle will be booked for time period specified, Are you sure?`)) {\n      try {\n        if (this.state.startTime && this.state.endTime) {\n          const user = this.props.authService ? await this.props.authService.getUser() : null;\n          await apiClient(\n            `/api/bookings`,\n            {\n              method: \"POST\",\n              body: JSON.stringify({\n                vehicleId: vehicle._id,\n                userId: user.sub,\n                startTime: this.state.startTime.toISOString(),\n                endTime: this.state.endTime.toISOString()\n              })\n            }\n          )\n          alert(\"Booking successfully done, Please check your current booking page\")\n        } else {\n          this.setState({\n            error: {\n              message: \"Please select correct pickup and dropoff time\"\n            }\n          })\n        }\n      } catch (error) {\n        this.setState({error: {\n          message: \"Error occured while booking the vehicle, make sure you cancel the previous booking or Please try again\"\n        }})\n      }\n    }\n  }\n\n  render() {\n    if (this.props.authState.isPending || this.state.loading) {\n      return <Loading />;\n    }\n    const { classes } = this.props;\n\n    return (\n      <div className={classes.mainContainer}>\n        <SearchBar locations={[{ _id: \"all\", name: \"All Locations\" }, ...this.state.locations]} onSearch={(data) => {\n          this.getVehicles(data);\n        }} />\n        {this.state.vehicles.length > 0 ? (\n          <Paper elevation={1} className={classes.posts}>\n            <List>\n              {this.state.vehicles.map(vehicle => {\n                const vehicleLocation = this.state.locations.find(v => v._id === vehicle.locationId);\n\n                return <ListItem key={vehicle._id} >\n                  <ListItemText\n                    primary={vehicle.make}\n                    secondary={vehicle.model}\n                  />\n                  <ListItemText\n                    secondary={vehicleLocation ? vehicleLocation.name : \"\"}\n                  />\n                  <Button size=\"small\" color=\"primary\" onClick={() => {\n                    this.bookVehicle(vehicle)\n                  }}>Book</Button>\n\n                </ListItem>\n              })}\n            </List>\n          </Paper>\n        ) : (\n            !this.state.loading && <Typography variant=\"subtitle1\">No vehicles to display for selected search options</Typography>\n          )}\n        {this.state.error && (\n          <ErrorSnackbar\n            onClose={() => this.setState({ error: null })}\n            message={this.state.error.message}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default compose(\n  withOktaAuth,\n  withRouter,\n  withStyles(styles),\n)(CustomerVehicles);\n","import React from 'react';\nimport {\n  Typography,\n} from '@material-ui/core';\nimport {\n  withStyles,\n  Card,\n  CardContent,\n  CardActions,\n  Button,\n  TextField,\n  Paper\n} from '@material-ui/core';\nimport { compose } from 'recompose';\nimport { withRouter } from 'react-router-dom';\nimport { Form, Field } from 'react-final-form';\nimport { withOktaAuth } from '@okta/okta-react';\nimport apiClient, { patchBody } from '../libs/apiClient';\nimport ErrorSnackbar from '../components/ErrorSnackbar';\nimport Loading from '../components/Loading';\nimport { required, composeValidators, mustBeNumber, minValue, maxValue } from '../utils/validations';\n\n\nconst styles = theme => ({\n  card: {\n    width: '90%',\n    maxWidth: 500,\n  },\n  cardContent: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  cardField: {\n    marginTop: theme.spacing(2),\n  },\n  marginTop: {\n    marginTop: theme.spacing(2),\n  },\n});\n\n\nclass Settings extends React.Component {\n\n  state = {\n    settings: null,\n    error: null\n  };\n\n  componentDidMount() {\n    this.getSettings();\n  }\n\n  async getSettings() {\n    try {\n      const [settings] = await apiClient('/api/settings', { method: \"GET\" })\n      this.setState({\n        settings\n      })\n    } catch (error) {\n      this.setState({ error })\n    }\n\n  }\n\n  handleSubmit = async (data) => {\n    try {\n      await apiClient('/api/settings', {\n        method: \"PUT\",\n        body: JSON.stringify(data)\n      })\n      await this.getSettings();\n      alert(\"Settings saved successfully\");\n    } catch (error) {\n      this.setState({ error })\n    }\n    \n  }\n\n  render() {\n    if (this.props.authState.isPending || this.state.loading) {\n      return <Loading />;\n    }\n    const { history, classes } = this.props;\n    return <Typography variant=\"h4\" align='center'>\n      <Form initialValues={this.state.settings} onSubmit={this.handleSubmit}>\n        {({ handleSubmit }) => (<Card className={classes.card}>\n          <form onSubmit={handleSubmit}>\n            <CardContent className={classes.cardContent}>\n              <Paper className={classes.root}>\n                <Typography variant=\"h5\" component=\"h3\">\n                  Application Settings\n                </Typography>\n              </Paper>\n              <Field name=\"membershipFee\" validate={composeValidators(required, mustBeNumber, minValue(0))}>\n                {({ input, meta }) => <>\n                  <TextField className={classes.cardField} label=\"Membership Fee ($)\" autoFocus {...input} />\n                  {meta.error && meta.touched && <span style={{ color: \"red\" }}>{meta.error}</span>}\n                </>}\n              </Field>\n              <Field name=\"lateFee\" validate={composeValidators(required, mustBeNumber, minValue(0))}>\n                {({ input, meta }) => <>\n                  <TextField className={classes.cardField} label=\"Late Payment Fee ($)\" autoFocus {...input} />\n                  {meta.error && meta.touched && <span style={{ color: \"red\" }}>{meta.error}</span>}\n                </>}\n              </Field>\n            </CardContent>\n            <CardActions>\n              <Button size=\"small\" color=\"primary\" type=\"submit\">Save</Button>\n              <Button size=\"small\" onClick={() => history.goBack()}>Cancel</Button>\n            </CardActions>\n          </form>\n        </Card>\n        )}\n      </Form>\n      {this.state.error && (\n        <ErrorSnackbar\n          onClose={() => this.setState({ error: null })}\n          message={this.state.error.message}\n        />\n      )}\n    </Typography>\n  }\n}\n\nexport default compose(\n  withOktaAuth,\n  withRouter,\n  withStyles(styles),\n)(Settings);\n","import React from 'react';\nimport {\n  withStyles,\n  Card,\n  CardContent,\n  CardActions,\n  Modal,\n  Button,\n  TextField,\n\n} from '@material-ui/core';\nimport { withOktaAuth } from '@okta/okta-react';\nimport { compose } from 'recompose';\nimport { withRouter } from 'react-router-dom';\nimport { Form, Field } from 'react-final-form';\nimport { required, composeValidators, mustBeNumber, minValue, maxValue } from '../../utils/validations';\n\nconst styles = theme => ({\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  modalCard: {\n    width: '60%',\n    maxWidth: 800\n  },\n  modalCardContent: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  marginTop: {\n    marginTop: theme.spacing(2),\n  },\n});\n\nclass LocationEditor extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { classes, locationV, onSave, history, readOnly } = this.props;\n    return <Form initialValues={locationV} onSubmit={onSave}>\n      {({ handleSubmit }) => (\n        <Modal\n          className={classes.modal}\n          onClose={() => history.goBack()}\n          open\n        >\n          <Card className={classes.modalCard}>\n            <form onSubmit={handleSubmit}>\n              <CardContent className={classes.modalCardContent}>\n                <Field name=\"name\" validate={required}>\n                  {({ input, meta }) => <>\n                    <TextField label=\"Name of the location\" disabled={readOnly} {...input} />\n                    {meta.error && meta.touched && <span style={{ color: \"red\" }}>{meta.error}</span>}\n                  </>}\n                </Field>\n                <Field name=\"capacity\" validate={composeValidators(required, mustBeNumber, minValue(1))}>\n                  {({ input, meta }) => <><TextField label=\"Capacity of Vehicles\" disabled={readOnly} {...input} />\n                    {meta.error && meta.touched && <span style={{ color: \"red\" }}>{meta.error}</span>}\n                  </>}\n                </Field>\n                <Field name=\"address\" validate={required}>\n                  {({ input, meta }) => <><TextField label=\"Address\" multiline\n                    rows={4} disabled={readOnly} {...input} />\n                    {meta.error && meta.touched && <span style={{ color: \"red\" }}>{meta.error}</span>}\n                  </>}\n                </Field>\n              </CardContent>\n              {\n                readOnly ?\n                  <CardActions>\n                    <Button size=\"small\" onClick={() => history.goBack()}>Close</Button>\n                  </CardActions> :\n                  <CardActions>\n                    <Button size=\"small\" color=\"primary\" type=\"submit\">Save</Button>\n                    <Button size=\"small\" onClick={() => history.goBack()}>Cancel</Button>\n                  </CardActions>\n              }\n            </form>\n          </Card>\n        </Modal>\n      )}\n    </Form>\n  }\n}\n\nexport default compose(\n  withOktaAuth,\n  withRouter,\n  withStyles(styles),\n)(LocationEditor);\n","import React, { Fragment, Component } from 'react';\nimport { withOktaAuth } from '@okta/okta-react';\nimport { withRouter, Route, Redirect, Link } from 'react-router-dom';\nimport { compose } from 'recompose';\nimport {\n  withStyles,\n  Typography,\n  Fab,\n  Button,\n  Paper,\n  List,\n  ListItem,\n  ListItemText,\n} from '@material-ui/core';\nimport { Add as AddIcon } from '@material-ui/icons';\n\nimport LocationEditor from '../components/editors/LocationEditor';\nimport ErrorSnackbar from '../components/ErrorSnackbar';\nimport apiClient, { patchBody } from '../libs/apiClient';\nimport Loading from '../components/Loading';\n\nconst styles = theme => ({\n  posts: {\n    marginTop: theme.spacing(2),\n    padding: theme.spacing(3),\n    maxHeight: '500px',\n    overflow: 'auto',\n    margin: '40px',\n  },\n  fab: {\n    position: 'absolute',\n    bottom: theme.spacing(3),\n    right: theme.spacing(3),\n    [theme.breakpoints.down('xs')]: {\n      bottom: theme.spacing(2),\n      right: theme.spacing(2),\n    },\n  },\n});\n\nclass Locations extends Component {\n  state = {\n    loading: true,\n    locations: [],\n    error: null,\n  };\n\n  componentDidMount() {\n    this.getLocations();\n  }\n\n  async getLocations() {\n    try {\n      const locations = await apiClient('/api/locations', { method: \"GET\" });\n      this.setState({\n        loading: false,\n        locations\n      });\n    } catch (error) {\n      this.setState({loading: false, error })\n    }\n\n  }\n\n  saveLocation = async (data) => {\n    try {\n      let reqBody = {\n        name: data.name,\n        address: data.address,\n        capacity: data.capacity\n      }\n      if(data._id) {\n        reqBody = patchBody(reqBody);\n      }\n      const endpoint = data._id ? `/api/locations/${data._id}` : '/api/locations';\n      await apiClient(\n        endpoint,\n        {\n          method: data._id ? \"PATCH\" : \"POST\",\n          body: JSON.stringify(reqBody)\n        }\n      );\n    } catch (error) {\n      this.setState({ error })\n    }\n    this.props.history.goBack();\n    this.getLocations();\n  }\n\n  deleteLocation = async(id) => {\n    if (window.confirm(`Are you sure you want to delete?`)) {\n      try {\n        await apiClient(\n          `/api/locations/${id}`,\n          {\n            method: \"DELETE\",\n          }\n        )\n        await this.getLocations();\n      } catch (error) {\n        this.setState({ error })\n      }\n      \n    }\n    \n  } \n\n  renderEditor = ({ match: { params: { id } } }) => {\n    if (this.state.loading) return null;\n    let locationV = this.state.locations.find(v => v._id === id);\n\n    if (locationV) {\n      return <LocationEditor locationV={locationV} onSave={this.saveLocation} />;\n    }\n\n    if (!locationV && id !== 'new') return <Redirect to=\"/locations\" />;\n\n    return <LocationEditor locationV={locationV} onSave={this.saveLocation} />;\n  };\n\n  render() {\n    if (this.props.authState.isPending || this.state.loading) {\n      return <Loading />;\n    }\n    const { classes } = this.props;\n\n    return (\n      <Fragment>\n        <Typography variant=\"h5\">Locations</Typography>\n        {this.state.locations.length > 0 ? (\n          <Paper elevation={1} className={classes.posts}>\n            <List>\n              {this.state.locations.map(location => {\n                return <ListItem key={location._id} button component={Link} to={`/locations/${location._id}`}>\n                  <ListItemText\n                    primary={location.name}\n                    secondary={`Capacity : ${location.capacity}`}\n                  />\n                  <ListItemText\n                    primary={`Address: ${location.address}`}\n                  />\n                  <Button size=\"small\" color=\"primary\" onClick={(event) => {\n                    event.preventDefault();\n                    this.deleteLocation(location._id)\n                  }}>Delete</Button>\n                </ListItem>\n              })}\n            </List>\n          </Paper>\n        ) : (\n            !this.state.loading && <Typography variant=\"subtitle1\">No locations to display</Typography>\n          )}\n        <Fab\n          color=\"secondary\"\n          aria-label=\"add\"\n          className={classes.fab}\n          component={Link}\n          to=\"/locations/new\"\n        >\n          <AddIcon />\n        </Fab>\n        <Route exact path=\"/locations/:id\" render={this.renderEditor} />\n        {this.state.error && (\n          <ErrorSnackbar\n            onClose={() => this.setState({ error: null })}\n            message={this.state.error.message}\n          />\n        )}\n      </Fragment>\n    );\n  }\n};\n\nexport default compose(\n  withOktaAuth,\n  withRouter,\n  withStyles(styles),\n)(Locations);","import React from 'react';\nimport {\n    withStyles,\n    Card,\n    CardContent,\n    CardActions,\n    Modal,\n    Button,\n    TextField,\n    Select,\n    MenuItem,\n    InputLabel\n} from '@material-ui/core';\nimport { withOktaAuth } from '@okta/okta-react';\nimport { compose } from 'recompose';\nimport { withRouter } from 'react-router-dom';\nimport { Form, Field } from 'react-final-form';\nimport { required, composeValidators, mustBeNumber, minValue, maxValue } from '../../utils/validations';\n\nconst styles = theme => ({\n    modal: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    modalCard: {\n        width: '60%',\n        maxWidth: 800\n    },\n    modalCardContent: {\n        display: 'flex',\n        flexDirection: 'column',\n    },\n    marginTop: {\n        marginTop: theme.spacing(2),\n    },\n});\n\nclass VehicleEditor extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        const { classes, vehicle, onSave, history, readOnly, vehicleTypes, locations } = this.props;\n        return <Form initialValues={vehicle} onSubmit={onSave}>\n            {({ handleSubmit }) => (\n                <Modal\n                    className={classes.modal}\n                    onClose={() => history.goBack()}\n                    open\n                >\n                    <Card className={classes.modalCard}>\n                        <form onSubmit={handleSubmit}>\n                            <CardContent className={classes.modalCardContent}>\n                                <Field name=\"vehicleTypeId\" validate={required}>\n                                    {({ input, meta }) => <>\n                                        <InputLabel id=\"demo-simple-select-label\">Type Of Vehicle</InputLabel>\n                                        <Select\n                                            labelId=\"demo-simple-select-label\"\n                                            id=\"demo-simple-select\"\n                                            disabled={readOnly}\n                                            autoFocus\n                                            {...input}\n                                        >\n                                            {\n                                                vehicleTypes.map(type => {\n                                                    return <MenuItem value={type._id}>{type.name}</MenuItem>\n                                                })\n                                            }\n                                        </Select>\n                                        {meta.error && meta.touched && <span style={{ color: \"red\" }}>{meta.error}</span>}\n                                    </>}\n                                </Field>\n                                <Field name=\"make\" validate={required}>\n                                    {({ input, meta }) => <>\n                                        <TextField label=\"Make of the vehicle\" disabled={readOnly} {...input} />\n                                        {meta.error && meta.touched && <span style={{ color: \"red\" }}>{meta.error}</span>}\n                                    </>}\n                                </Field>\n                                <Field name=\"model\" validate={required}>\n                                    {({ input, meta }) => <>\n                                        <TextField label=\"Model of the Vehicle\" disabled={readOnly} {...input} />\n                                        {meta.error && meta.touched && <span style={{ color: \"red\" }}>{meta.error}</span>}\n                                    </>}\n                                </Field>\n                                <Field name=\"locationId\" validate={required}>\n                                    {({ input, meta }) => <>\n                                        <InputLabel id=\"demo-simple-select-label\">Location Of Vehicle</InputLabel>\n                                        <Select\n                                            labelId=\"demo-simple-select-label\"\n                                            id=\"demo-simple-select\"\n                                            disabled={readOnly}\n                                            autoFocus\n                                            {...input}\n                                        >\n                                            {\n                                                locations.map(loc => {\n                                                    return <MenuItem value={loc._id}>{loc.name}</MenuItem>\n                                                })\n                                            }\n                                        </Select>\n                                        {meta.error && meta.touched && <span style={{ color: \"red\" }}>{meta.error}</span>}\n                                    </>}\n                                </Field>\n                                <Field name=\"licencePlateNumber\">\n                                    {({ input }) => <TextField label=\"Licence Plate Number\" disabled={readOnly} {...input} />}\n                                </Field>\n                                <Field name=\"mileage\">\n                                    {({ input }) => <TextField label=\"Mileage\" disabled={readOnly} {...input} />}\n                                </Field>\n                                <Field name=\"stateOfRegistration\">\n                                    {({ input }) => <TextField label=\"State Of Registration\" disabled={readOnly} {...input} />}\n                                </Field>\n                                <Field name=\"condition\">\n                                    {({ input }) => <TextField label=\"Vehicle Condition\" disabled={readOnly} {...input} />}\n                                </Field>\n                            </CardContent>\n                            {\n                                readOnly ?\n                                    <CardActions>\n                                        <Button size=\"small\" onClick={() => history.goBack()}>Close</Button>\n                                    </CardActions> :\n                                    <CardActions>\n                                        <Button size=\"small\" color=\"primary\" type=\"submit\">Save</Button>\n                                        <Button size=\"small\" onClick={() => history.goBack()}>Cancel</Button>\n                                    </CardActions>\n                            }\n                        </form>\n                    </Card>\n                </Modal>\n            )}\n        </Form>\n    }\n}\n\nexport default compose(\n    withOktaAuth,\n    withRouter,\n    withStyles(styles),\n)(VehicleEditor);\n","import React, { Fragment, Component } from 'react';\nimport { withOktaAuth } from '@okta/okta-react';\nimport { withRouter, Route, Redirect, Link } from 'react-router-dom';\nimport { compose } from 'recompose';\nimport {\n  withStyles,\n  Typography,\n  Fab,\n  Paper,\n  List,\n  Button,\n  ListItem,\n  ListItemText,\n} from '@material-ui/core';\nimport { Add as AddIcon } from '@material-ui/icons';\n\nimport VehicleEditor from '../components/editors/VehicleEditor.jsx';\nimport ErrorSnackbar from '../components/ErrorSnackbar';\nimport apiClient, { patchBody } from '../libs/apiClient';\nimport Loading from '../components/Loading';\n\nconst styles = theme => ({\n  posts: {\n    marginTop: theme.spacing(2),\n    padding: theme.spacing(3),\n    maxHeight: '500px',\n    overflow: 'auto',\n    margin: '40px',\n  },\n  fab: {\n    position: 'absolute',\n    bottom: theme.spacing(3),\n    right: theme.spacing(3),\n    [theme.breakpoints.down('xs')]: {\n      bottom: theme.spacing(2),\n      right: theme.spacing(2),\n    },\n  },\n});\n\nclass Vehicles extends Component {\n  state = {\n    loading: true,\n    vehicles: [],\n    vehicleTypes: [],\n    locations: [],\n    error: null,\n  };\n\n  componentDidMount() {\n    this.getVehicles();\n  }\n\n  async getVehicles() {\n    try {\n      const locations = await apiClient('/api/locations', { method: \"GET\" });\n      const vehicleTypes = await apiClient('/api/vehicleTypes', { method: \"GET\" });\n      const vehicles = await apiClient('/api/vehicles', { method: \"GET\" });\n      this.setState({\n        loading: false,\n        vehicles,\n        vehicleTypes,\n        locations\n      });\n    } catch (error) {\n      this.setState({ error })\n    }\n\n  }\n\n  saveVehicle = async (data) => {\n\n    try {\n      let reqBody = {\n        make: data.make,\n        model: data.model,\n        locationId: data.locationId,\n        vehicleTypeId: data.vehicleTypeId,\n        licencePlateNumber: data.licencePlateNumber,\n        stateOfRegistration: data.stateOfRegistration,\n        condition: data.condition,\n        mileage: data.mileage\n      }\n      if (data._id) {\n        reqBody = patchBody(reqBody);\n      }\n      const endpoint = data._id ? `/api/vehicles/${data._id}` : '/api/vehicles';\n      await apiClient(\n        endpoint,\n        {\n          method: data._id ? \"PATCH\" : \"POST\",\n          body: JSON.stringify(reqBody)\n        }\n      );\n      this.props.history.goBack();\n      this.getVehicles();\n    } catch (error) {\n      this.setState({error})\n    }\n\n  }\n\n  deleteVehicle = async(id) => {\n    if (window.confirm(`Are you sure you want to delete?`)) {\n      await apiClient(\n        `/api/vehicles/${id}`,\n        {\n          method: \"DELETE\",\n        }\n      )\n      await this.getVehicles();\n    }\n  } \n\n  renderEditor = ({ match: { params: { id } } }) => {\n    if (this.state.loading) return null;\n    let vehicle = this.state.vehicles.find(v => v._id === id);\n\n    if (vehicle) {\n      return <VehicleEditor vehicle={vehicle} vehicleTypes={this.state.vehicleTypes} locations={this.state.locations} onSave={this.saveVehicle} />;\n    }\n\n    if (!vehicle && id !== 'new') return <Redirect to=\"/vehicles\" />;\n\n    return <VehicleEditor vehicle={vehicle} vehicleTypes={this.state.vehicleTypes} locations={this.state.locations} onSave={this.saveVehicle} />;\n  };\n\n  render() {\n    if (this.props.authState.isPending || this.state.loading) {\n      return <Loading />;\n    }\n    const { classes } = this.props;\n\n    return (\n      <Fragment>\n        <Typography variant=\"h5\">Vehicles</Typography>\n        {this.state.vehicles.length > 0 ? (\n          <Paper elevation={1} className={classes.posts}>\n            <List>\n              {this.state.vehicles.map(vehicle => {\n                const vehicleType = this.state.vehicleTypes.find(v => v._id === vehicle.vehicleTypeId);\n                const vehicleLocation = this.state.locations.find(v => v._id === vehicle.locationId);\n\n                return <ListItem key={vehicle._id} button component={Link} to={`/vehicles/${vehicle._id}`}>\n                  <ListItemText\n                    primary={vehicle.make}\n                    secondary={vehicle.model}\n                  />\n                  <ListItemText\n                    primary={vehicleType ? vehicleType.name : \"\"}\n                    secondary={vehicleLocation ? vehicleLocation.name : \"\"}\n                  />\n                  <Button size=\"small\" color=\"primary\" onClick={(event) => {\n                    event.preventDefault();\n                    this.deleteVehicle(vehicle._id)\n                  }}>Delete</Button>\n                </ListItem>\n              })}\n            </List>\n          </Paper>\n        ) : (\n            !this.state.loading && <Typography variant=\"subtitle1\">No vehicles to display</Typography>\n          )}\n        <Fab\n          color=\"secondary\"\n          aria-label=\"add\"\n          className={classes.fab}\n          component={Link}\n          to=\"/vehicles/new\"\n        >\n          <AddIcon />\n        </Fab>\n        <Route exact path=\"/vehicles/:id\" render={this.renderEditor} />\n        {this.state.error && (\n          <ErrorSnackbar\n            onClose={() => this.setState({ error: null })}\n            message={this.state.error.message}\n          />\n        )}\n      </Fragment>\n    );\n  }\n};\n\nexport default compose(\n  withOktaAuth,\n  withRouter,\n  withStyles(styles),\n)(Vehicles);\n","import React, { Component, Fragment } from 'react';\nimport { withOktaAuth } from '@okta/okta-react';\nimport { withRouter } from 'react-router-dom';\nimport {\n  withStyles,\n  Typography,\n  Button,\n  Paper,\n  List,\n  ListItem,\n  ListItemText,\n  ListItemSecondaryAction,\n} from '@material-ui/core';\nimport { compose } from 'recompose';\n\nimport ErrorSnackbar from '../components/ErrorSnackbar';\nimport apiClient, { patchBody } from '../libs/apiClient';\nimport Loading from '../components/Loading';\n\nconst styles = theme => ({\n  posts: {\n    marginTop: theme.spacing(2),\n    maxHeight: \"580px\",\n    overflow: 'auto',\n    margin: '50px'\n  },\n  fab: {\n    position: 'absolute',\n    bottom: theme.spacing(3),\n    right: theme.spacing(3),\n    [theme.breakpoints.down('xs')]: {\n      bottom: theme.spacing(2),\n      right: theme.spacing(2),\n    },\n  },\n});\n\nclass Users extends Component {\n  state = {\n    loading: true,\n    users: [],\n    error: null,\n  };\n\n  componentDidMount() {\n    this.getUsers();\n  }\n\n  async getUsers() {\n    try {\n      const users = await apiClient('/api/users', { method: \"GET\" });\n      this.setState({\n        loading: false,\n        users\n      });\n    } catch (error) {\n      this.setState({error})\n    }\n    \n  }\n\n  async revokeMembership(user) {\n    if (window.confirm(`Are you sure you want to revoke user?`)) {\n      await apiClient(\n        `/api/users/${user.id}`,\n        {\n          method: \"DELETE\",\n        }\n      )\n      await this.getUsers();\n    }\n  }\n\n  render() {\n    if (this.props.authState.isPending || this.state.loading) {\n      return <Loading />;\n    }\n    const { classes } = this.props;\n\n    return (\n      <Fragment>\n        <Typography variant=\"h5\">Users</Typography>\n        {this.state.users.length > 0 ? (\n          <Paper elevation={1} className={classes.posts}>\n            <List>\n              {this.state.users.map(user => (\n                <ListItem key={user.profile.email}>\n                  <ListItemText\n                    primary={user.profile.firstName}\n                    secondary={user.profile.lastName}\n                  />\n                  <ListItemText\n                    primary={user.profile.email}\n                  />\n                  <ListItemSecondaryAction>\n                    <Button onClick={() => this.revokeMembership(user)} color=\"inherit\">\n                      Revoke\n                    </Button>\n                  </ListItemSecondaryAction>\n                </ListItem>\n              ))}\n            </List>\n          </Paper>\n        ) : (\n            !this.state.loading && <Typography variant=\"subtitle1\">No users to display</Typography>\n          )}\n        {this.state.error && (\n          <ErrorSnackbar\n            onClose={() => this.setState({ error: null })}\n            message={this.state.error.message}\n          />\n        )}\n      </Fragment>\n    );\n  }\n}\n\nexport default compose(\n  withOktaAuth,\n  withRouter,\n  withStyles(styles),\n)(Users);\n","import React from 'react';\nimport {\n  withStyles,\n  Typography,\n  Card,\n  CardContent,\n  CardActions,\n  Modal,\n  Button,\n  TextField,\n  InputLabel,\n  MenuItem,\n  Select,\n  Link\n} from '@material-ui/core';\nimport { withOktaAuth } from '@okta/okta-react';\nimport { compose } from 'recompose';\nimport { withRouter } from 'react-router-dom';\nimport { Form, Field } from 'react-final-form';\nimport { required, composeValidators, mustBeNumber, minValue, maxValue } from '../../utils/validations';\n\nconst styles = theme => ({\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  modalCard: {\n    width: '60%',\n    maxWidth: 800\n  },\n  modalCardContent: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  marginTop: {\n    marginTop: theme.spacing(2),\n  },\n});\n\nclass VehicleTypeEditor extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { classes, vehicleType, onSave, history, readOnly } = this.props;\n    return <Form initialValues={vehicleType} onSubmit={onSave}>\n      {({ handleSubmit }) => (\n        <Modal\n          className={classes.modal}\n          onClose={() => history.goBack()}\n          open\n        >\n          <Card className={classes.modalCard}>\n            <form onSubmit={handleSubmit}>\n              <CardContent className={classes.modalCardContent}>\n                <Field name=\"name\" validate={required}>\n                  {({ input, meta }) => <>\n                    <TextField label=\"Type of vehicle\" disabled={readOnly} {...input} />\n                    {meta.error && meta.touched && <span style={{ color: \"red\" }}>{meta.error}</span>}\n                  </>}\n                </Field>\n                <Field name=\"description\">\n                  {({ input }) => <TextField label=\"Vehicle Class Description\" disabled={readOnly} {...input} />}\n                </Field>\n                <Field name=\"rate1\" validate={composeValidators(required, mustBeNumber, minValue(0))}>\n                  {({ input, meta }) => <>\n                    <TextField label=\"Rate #1\" disabled={readOnly} {...input} />\n                    {meta.error && meta.touched && <span style={{ color: \"red\" }}>{meta.error}</span>}\n                  </>}\n                </Field>\n                <Field name=\"start1\" validate={composeValidators(required, mustBeNumber, minValue(0))}>\n                  {({ input, meta }) => <>\n                    <TextField label=\"Start Hour #1\" disabled={readOnly} {...input} />\n                    {meta.error && meta.touched && <span style={{ color: \"red\" }}>{meta.error}</span>}\n\n                  </>}\n                </Field>\n                <Field name=\"end1\" validate={composeValidators(required, mustBeNumber, minValue(0), maxValue(72))}>\n                  {({ input, meta }) => <>\n                    <TextField label=\"End Hour #1\" disabled={readOnly} {...input} />\n                    {meta.error && meta.touched && <span style={{ color: \"red\" }}>{meta.error}</span>}\n                  </>}\n                </Field>\n                <Field name=\"rate2\" validate={composeValidators(mustBeNumber, minValue(0))}>\n                  {({ input, meta }) => <>\n                    <TextField label=\"Rate #2\" disabled={readOnly} {...input} />\n                    {meta.error && meta.touched && <span style={{ color: \"red\" }}>{meta.error}</span>}\n                  </>}\n                </Field>\n                <Field name=\"start2\" validate={composeValidators(mustBeNumber, minValue(0))}>\n                  {({ input, meta }) => <>\n                    <TextField label=\"Start Hour #2\" disabled={readOnly} {...input} />\n                    {meta.error && meta.touched && <span style={{ color: \"red\" }}>{meta.error}</span>}\n                  </>}\n                </Field>\n                <Field name=\"end2\" validate={composeValidators(mustBeNumber, minValue(0), maxValue(72))}>\n                  {({ input, meta }) => <>\n                    <TextField label=\"End Hour #2\" disabled={readOnly} {...input} />\n                    {meta.error && meta.touched && <span style={{ color: \"red\" }}>{meta.error}</span>}\n                  </>}\n                </Field>\n                <Field name=\"rate3\" validate={composeValidators(mustBeNumber, minValue(0))}>\n                  {({ input, meta }) => <>\n                    <TextField label=\"Rate #3\" disabled={readOnly} {...input} />\n                    {meta.error && meta.touched && <span style={{ color: \"red\" }}>{meta.error}</span>}\n                  </>}\n                </Field>\n                <Field name=\"start3\" validate={composeValidators(mustBeNumber, minValue(0))}>\n                  {({ input, meta }) => <>\n                    <TextField label=\"Start Hour #3\" disabled={readOnly} {...input} />\n                    {meta.error && meta.touched && <span style={{ color: \"red\" }}>{meta.error}</span>}\n                  </>}\n                </Field>\n                <Field name=\"end3\" validate={composeValidators(mustBeNumber, minValue(0), maxValue(72))}>\n                  {({ input, meta }) => <>\n                    <TextField label=\"End Hour #3\" disabled={readOnly} {...input} />\n                    {meta.error && meta.touched && <span style={{ color: \"red\" }}>{meta.error}</span>}\n                  </>}\n                </Field>\n              </CardContent>\n              {\n                readOnly ?\n                  <CardActions>\n                    <Button size=\"small\" onClick={() => history.goBack()}>Close</Button>\n                  </CardActions> :\n                  <CardActions>\n                    <Button size=\"small\" color=\"primary\" type=\"submit\">Save</Button>\n                    <Button size=\"small\" onClick={() => history.goBack()}>Cancel</Button>\n                  </CardActions>\n              }\n            </form>\n          </Card>\n        </Modal>\n      )}\n    </Form>\n  }\n}\n\nexport default compose(\n  withOktaAuth,\n  withRouter,\n  withStyles(styles),\n)(VehicleTypeEditor);\n","import React, { Fragment, Component } from 'react';\nimport { withOktaAuth } from '@okta/okta-react';\nimport { withRouter, Route, Redirect, Link } from 'react-router-dom';\nimport { compose } from 'recompose';\nimport {\n  withStyles,\n  Typography,\n  Fab,\n  Button,\n  IconButton,\n  Paper,\n  List,\n  ListItem,\n  ListItemText,\n  ListItemSecondaryAction,\n} from '@material-ui/core';\nimport { Delete as DeleteIcon, Add as AddIcon } from '@material-ui/icons';\n\nimport VehicleTypeEditor from '../components/editors/VehicleTypeEditor';\nimport ErrorSnackbar from '../components/ErrorSnackbar';\nimport apiClient, { patchBody } from '../libs/apiClient';\nimport Loading from '../components/Loading';\n\nconst styles = theme => ({\n  posts: {\n    marginTop: theme.spacing(2),\n    padding: theme.spacing(3),\n    maxHeight: '500px',\n    overflow: 'auto',\n    margin: '40px',\n  },\n  fab: {\n    position: 'absolute',\n    bottom: theme.spacing(3),\n    right: theme.spacing(3),\n    [theme.breakpoints.down('xs')]: {\n      bottom: theme.spacing(2),\n      right: theme.spacing(2),\n    },\n  },\n});\n\nclass VehicleType extends Component {\n  state = {\n    loading: true,\n    vehicleTypes: [],\n    error: null,\n  };\n\n  componentDidMount() {\n    this.getVehicleTypes();\n  }\n\n  async getVehicleTypes() {\n    try {\n      const vehicleTypes = await apiClient('/api/vehicleTypes', { method: \"GET\" });\n      this.setState({\n        loading: false,\n        vehicleTypes\n      });\n    } catch (error) {\n      this.setState({ loading: false, error })\n    }\n\n  }\n\n  saveVehicleType = async (data) => {\n    try {\n      let reqBody = {\n        name: data.name,\n        description: data.description,\n        rates: []\n      }\n      if (data.rate1) {\n        reqBody.rates.push({\n          rate: data.rate1,\n          start: data.start1,\n          end: data.end1\n        })\n      }\n      if (data.rate2) {\n        reqBody.rates.push({\n          rate: data.rate2,\n          start: data.start2,\n          end: data.end2\n        })\n      }\n      if (data.rate3) {\n        reqBody.rates.push({\n          rate: data.rate3,\n          start: data.start3,\n          end: data.end3\n        })\n      }\n      if (data._id) {\n        reqBody = patchBody(reqBody)\n      }\n\n      const endpoint = data._id ? `/api/vehicleTypes/${data._id}` : '/api/vehicleTypes';\n      await apiClient(\n        endpoint,\n        {\n          method: data._id ? \"PATCH\" : \"POST\",\n          body: JSON.stringify(reqBody)\n        }\n      );\n      await this.getVehicleTypes();\n      this.props.history.goBack();\n    } catch (error) {\n      this.setState({ error })\n    }\n\n  }\n  deleteVehicleType = async (id) => {\n    if (window.confirm(`Are you sure you want to delete?`)) {\n      try {\n        await apiClient(\n          `/api/vehicleTypes/${id}`,\n          {\n            method: \"DELETE\",\n          }\n        );\n        await this.getVehicleTypes();\n      } catch (error) {\n        this.setState({ error })\n      }\n    }\n\n  }\n  renderEditor = ({ match: { params: { id } } }) => {\n    if (this.state.loading) return null;\n    let vehicleType = this.state.vehicleTypes.find(v => v._id === id);\n\n    if (vehicleType) {\n      const vehicleTypeRates = {};\n      const v = vehicleType.rates;\n      vehicleTypeRates.rate1 = v[0] ? v[0].rate : null\n      vehicleTypeRates.start1 = v[0] ? v[0].start : null\n      vehicleTypeRates.end1 = v[0] ? v[0].end : null\n      vehicleTypeRates.rate2 = v[1] ? v[1].rate : null\n      vehicleTypeRates.start2 = v[1] ? v[1].start : null\n      vehicleTypeRates.end2 = v[1] ? v[1].end : null\n      vehicleTypeRates.rate3 = v[2] ? v[2].rate : null\n      vehicleTypeRates.start3 = v[2] ? v[2].start : null\n      vehicleTypeRates.end3 = v[2] ? v[2].end : null\n\n      return <VehicleTypeEditor vehicleType={{ ...vehicleType, ...vehicleTypeRates }} onSave={this.saveVehicleType} />;\n    }\n\n    if (!vehicleType && id !== 'new') return <Redirect to=\"/vehicletype\" />;\n\n    return <VehicleTypeEditor vehicleType={vehicleType} onSave={this.saveVehicleType} />;\n  };\n\n  render() {\n    if (this.props.authState.isPending || this.state.loading) {\n      return <Loading />;\n    }\n    const { classes } = this.props;\n\n    return (\n      <Fragment>\n        <Typography variant=\"h5\">Vehicle Types</Typography>\n        {this.state.vehicleTypes.length > 0 ? (\n          <Paper elevation={1} className={classes.posts}>\n            <List>\n              {this.state.vehicleTypes.map(vehicleType => {\n                return <ListItem key={vehicleType._id} button component={Link} to={`/vehicletype/${vehicleType._id}`}>\n                  <ListItemText\n                    primary={vehicleType.name}\n                    secondary={vehicleType.description}\n                  />\n                  <ListItemText\n                    primary={`Rate/hour: $${vehicleType.rates[0] ? vehicleType.rates[0].rate : ''}`}\n                  />\n                  <Button size=\"small\" color=\"primary\" onClick={(event) => {\n                    event.preventDefault();\n                    this.deleteVehicleType(vehicleType._id)\n                  }}>Delete</Button>\n                </ListItem>\n              })}\n            </List>\n          </Paper>\n        ) : (\n            !this.state.loading && <Typography variant=\"subtitle1\">No vehicle types to display</Typography>\n          )}\n        <Fab\n          color=\"secondary\"\n          aria-label=\"add\"\n          className={classes.fab}\n          component={Link}\n          to=\"/vehicletype/new\"\n        >\n          <AddIcon />\n        </Fab>\n        <Route exact path=\"/vehicletype/:id\" render={this.renderEditor} />\n        {this.state.error && (\n          <ErrorSnackbar\n            onClose={() => this.setState({ error: null })}\n            message={this.state.error.message}\n          />\n        )}\n      </Fragment>\n    );\n  }\n};\n\nexport default compose(\n  withOktaAuth,\n  withRouter,\n  withStyles(styles),\n)(VehicleType);","import React, { Component } from 'react';\nimport { withOktaAuth } from '@okta/okta-react';\nimport {\n  withStyles,\n  Typography,\n  Button,\n  Card,\n  CardContent,\n  CardActions,\n  TextField\n} from '@material-ui/core';\nimport { compose } from 'recompose';\nimport apiClient, { patchBody } from '../libs/apiClient';\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport ErrorSnackbar from '../components/ErrorSnackbar';\nimport Loading from '../components/Loading';\n\nconst styles = theme => ({\n  mainContainer: {\n    margin: theme.spacing(3)\n  },\n  posts: {\n    marginTop: theme.spacing(2),\n    padding: theme.spacing(3),\n    maxHeight: '500px',\n    overflow: 'auto',\n    margin: theme.spacing(3),\n  },\n  fab: {\n    position: 'absolute',\n    bottom: theme.spacing(3),\n    right: theme.spacing(3),\n    [theme.breakpoints.down('xs')]: {\n      bottom: theme.spacing(2),\n      right: theme.spacing(2),\n    },\n  },\n  dateInput: {\n    height: '35px'\n  }\n});\n\nclass Bookings extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      booking: null,\n      pricing: null,\n      actualReturnTime: null,\n      condition: null\n    }\n  }\n\n  componentDidMount() {\n    this.getBookings();\n  }\n\n  async getBookings() {\n    try {\n      const user = this.props.authService ? await this.props.authService.getUser() : null;\n      const [booking] = await apiClient(`/api/bookings/${user.sub}`, { method: \"GET\" });\n      if (booking) {\n        const vehicle = await apiClient(`/api/vehicles/${booking.vehicleId}`, { method: \"GET\" })\n        this.setState({\n          loading: false,\n          booking: {\n            vehicle,\n            ...booking\n          }\n        });\n      } else {\n        this.setState({\n          loading: false,\n          booking: null\n        });\n      }\n    } catch (error) {\n      this.setState({ loading: false, error })\n    }\n\n  }\n\n  async getPrice(cancel) {\n    try {\n      if (cancel) {\n        const pricing = await apiClient(\n          `/api/bookings/${this.state.booking._id}/price/${new Date().toISOString()}`,\n          { method: \"GET\" }\n        )\n        this.setState({\n          pricing\n        })\n      }else if (this.state.actualReturnTime) {\n        const pricing = await apiClient(\n          `/api/bookings/${this.state.booking._id}/price/${this.state.actualReturnTime.toISOString()}`,\n          { method: \"GET\" }\n        )\n        this.setState({\n          pricing\n        })\n      } else {\n        this.setState({\n          error: {\n            message: \"Please select date on which vehicle was returned\"\n          }\n        })\n      }\n    } catch (error) {\n      this.setState({ error })\n    }\n  }\n\n  async deleteBooking() {\n    try {\n      await apiClient(\n        `/api/bookings/${this.state.booking._id}`,\n        { method: \"DELETE\" }\n      )\n      await this.getBookings();\n    } catch (error) {\n      this.setState({ error })\n    }\n  }\n\n\n  render() {\n    if (this.props.authState.isPending || this.state.loading) {\n      return <Loading />;\n    }\n    const { classes } = this.props;\n\n    return (\n      <div className={classes.mainContainer}>\n        {this.state.booking ? <Card className={classes.modalCard}>\n          <CardContent>\n            <Typography color=\"textSecondary\" gutterBottom>\n              Vehicle\n              </Typography>\n            <Typography variant=\"h5\" gutterBottom>\n              {this.state.booking.vehicle ? `${this.state.booking.vehicle.make} ${this.state.booking.vehicle.model}` : \"\"}\n            </Typography>\n            <Typography color=\"textSecondary\" gutterBottom>\n              Booking Start Time\n              </Typography>\n            <Typography variant=\"h5\" gutterBottom>\n              {new Date(this.state.booking.startTime).toLocaleString()}\n            </Typography>\n            <Typography color=\"textSecondary\" gutterBottom>\n              Booking Return Time\n              </Typography>\n            <Typography variant=\"h5\" gutterBottom>\n              {new Date(this.state.booking.endTime).toLocaleString()}\n            </Typography>\n            <Typography color=\"textSecondary\" gutterBottom>\n              Select return Time\n            </Typography>\n            <DatePicker\n              className={classes.dateInput}\n              selected={this.state.actualReturnTime ? this.state.actualReturnTime : null}\n              showTimeSelect\n              timeFormat=\"HH:mm\"\n              timeIntervals={60}\n              timeCaption=\"time\"\n              dateFormat=\"MMMM d, yyyy h:mm aa\"\n              placeholderText=\"Select return time\"\n              onChange={(value) => { this.setState({ actualReturnTime: value }) }}\n            />\n            <Typography color=\"textSecondary\" gutterBottom>\n              Condition At Return/Comments\n            </Typography>\n            <TextField\n              value={this.state.value}\n              onChange={(value) => { this.setState({ condition: value }) }}\n            />\n\n            <CardActions>\n              <Button variant=\"contained\" onClick={() => { this.getPrice(true) }}>Cancel Booking</Button>\n              <Button variant=\"contained\" color=\"primary\" onClick={() => { this.getPrice() }}>Return Vehicle</Button>\n            </CardActions>\n          </CardContent>\n          {this.state.pricing ? <CardContent>\n            <Typography color=\"textSecondary\" gutterBottom>\n              Total Price that will be charged to your card\n              </Typography>\n            <Typography variant=\"h5\" gutterBottom>\n              {this.state.pricing ? `${Math.round(this.state.pricing.totalPrice)}` : \"\"}\n            </Typography>\n            <Typography color=\"textSecondary\" gutterBottom>\n              Hours\n              </Typography>\n            <Typography variant=\"h5\" gutterBottom>\n              {this.state.pricing ? `${Math.round(this.state.pricing.totalHours)}` : \"\"}\n            </Typography>\n            <Typography color=\"textSecondary\" gutterBottom>\n              Late Fee\n              </Typography>\n            <Typography variant=\"h5\" gutterBottom>\n              {this.state.pricing ? `${Math.round(this.state.pricing.lateFee)}` : \"\"}\n            </Typography>\n            <CardActions>\n              <Button variant=\"contained\" onClick={() => { this.setState({ pricing: null }) }}>Cancel</Button>\n              <Button variant=\"contained\" color=\"primary\" onClick={() => { this.deleteBooking() }}>Confirm</Button>\n            </CardActions>\n          </CardContent> : null}\n        </Card> : <Typography variant=\"subtitle1\">No current booking found</Typography>}\n        {this.state.error && (\n          <ErrorSnackbar\n            onClose={() => this.setState({ error: null })}\n            message={this.state.error.message}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default compose(\n  withOktaAuth,\n  withStyles(styles),\n)(Bookings);","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport {\n  Button,\n  IconButton,\n  Menu,\n  MenuItem,\n  ListItemText,\n} from '@material-ui/core';\nimport { AccountCircle } from '@material-ui/icons';\nimport { withOktaAuth } from '@okta/okta-react';\n\nexport default withOktaAuth(class LoginButton extends Component {\n  state = {\n    authenticated: null,\n    user: null,\n    menuAnchorEl: null,\n  };\n\n  componentDidUpdate() {\n    this.checkAuthentication();\n  }\n\n  componentDidMount() {\n    this.checkAuthentication();\n  }\n\n  async checkAuthentication() {\n    const authenticated =  this.props.authState ? this.props.authState.isAuthenticated : false;\n    if (authenticated !== this.state.authenticated) {\n      const user = await this.props.authService.getUser();\n      this.setState({ authenticated, user });\n    }\n  }\n\n  login = () => this.props.auth.login();\n  logout = () => {\n    this.handleMenuClose();\n    this.props.authService.logout();\n  };\n\n  handleMenuOpen = event => this.setState({ menuAnchorEl: event.currentTarget });\n  handleMenuClose = () => this.setState({ menuAnchorEl: null });\n\n  render() {\n    const { authenticated, user, menuAnchorEl } = this.state;\n\n    if (authenticated === null) return null;\n    if (!authenticated) return <Button color=\"inherit\" component={Link} to=\"/login\" >Login</Button>;\n\n    const menuPosition = {\n      vertical: 'top',\n      horizontal: 'right',\n    };\n\n    return (\n      <div>\n        <IconButton onClick={this.handleMenuOpen} color=\"inherit\">\n          <AccountCircle />\n        </IconButton>\n        <Menu\n          anchorEl={menuAnchorEl}\n          anchorOrigin={menuPosition}\n          transformOrigin={menuPosition}\n          open={!!menuAnchorEl}\n          onClose={this.handleMenuClose}\n        >\n          <MenuItem onClick={this.logout}>\n            <ListItemText\n              primary=\"Logout\"\n              secondary={user && user.name}\n            />\n          </MenuItem>\n        </Menu>\n      </div>\n    );\n  }\n});","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport {\n  AppBar,\n  Tabs,\n  Tab,\n  Toolbar,\n  Typography,\n  withStyles,\n} from '@material-ui/core';\nimport { withOktaAuth } from '@okta/okta-react';\nimport LoginButton from \"./LoginButton\";\nimport { withRouter } from 'react-router-dom';\n\nconst styles = {\n  flex: {\n    flex: 1,\n  },\n  tabLink: {\n    display: \"flex\",\n    alignItems: \"center\",\n  }\n};\n\nclass AppHeader extends React.Component {\n  state = {\n    authenticated: false,\n    user: null,\n    role: \"admin\",\n    value: 0,\n  };\n\n  componentDidUpdate() {\n    this.checkAuthentication();\n  }\n\n  componentDidMount() {\n    this.checkAuthentication();\n  }\n\n  async checkAuthentication() {\n    const authenticated = this.props.authState ? this.props.authState.isAuthenticated : false;\n    const user = this.props.authService ? await this.props.authService.getUser() : null;\n    const role = user && user.groups && user.groups.includes(\"CarRentalApp Admin\") ? \"admin\": \"user\";\n    if (authenticated !== this.state.authenticated) {\n      this.setState({\n        authenticated,\n        role\n      })\n    }\n  }\n  \n  handleChange = (event, newValue) => {\n    // event.preventDefault();\n    this.setState({value: newValue});\n  };\n  render() {\n    return (\n      <AppBar position=\"static\">\n        <Toolbar>\n          <Typography variant=\"h6\" color=\"inherit\">\n            Car Rental System\n          </Typography>\n          {\n            this.state.authenticated ?\n              <>\n                {\n                  this.state.role === \"admin\" ?\n                    <Tabs>\n                      <Tab key=\"profile\" label=\"Home\" component={Link} className={this.props.classes.tabLink} to=\"/\"></Tab>\n                      <Tab key=\"vehicletype\" label=\"Vehicle Types\" component={Link} className={this.props.classes.tabLink} to=\"/vehicletype\"></Tab>\n                      <Tab key=\"settings\" label=\"Settings\" component={Link} className={this.props.classes.tabLink} to=\"/settings\"></Tab>\n                      <Tab key=\"locations\" label=\"Locations\" component={Link} className={this.props.classes.tabLink} to=\"/locations\"></Tab>\n                      <Tab key=\"vehicles\" label=\"Vehicles\" component={Link} className={this.props.classes.tabLink} to=\"/vehicles\"></Tab>\n                      <Tab key=\"users\" label=\"Users\" component={Link} className={this.props.classes.tabLink} to=\"/users\"></Tab>\n\n                    </Tabs> :\n                    <Tabs>\n                      <Tab key=\"home\" label=\"Home\" component={Link} className={this.props.classes.tabLink} to=\"/\"></Tab>\n                      <Tab key=\"customervehicles\" label=\"Search Vehicles\" component={Link} className={this.props.classes.tabLink} to=\"/customervehicles\"></Tab>\n                      <Tab key=\"bookings\" label=\"My Bookings\" component={Link} className={this.props.classes.tabLink} to=\"/bookings\"></Tab>\n                      <Tab key=\"profile\" label=\"Profile\" component={Link} className={this.props.classes.tabLink} to=\"/profile\"></Tab>\n                    </Tabs>\n                }\n              </>\n              : null\n          }\n\n\n          <div className={this.props.classes.flex} />\n          <LoginButton />\n        </Toolbar>\n      </AppBar>\n    );\n  }\n\n}\n\nexport default withRouter(withOktaAuth(withStyles(styles)(AppHeader)));\n","import React from 'react';\nimport { Route, useHistory } from 'react-router-dom';\nimport { Security, SecureRoute, LoginCallback } from '@okta/okta-react';\nimport Home from './pages/Home';\nimport Login from './pages/Login';\nimport ProfilePage from './pages/ProfilePage';\nimport RegistrationForm from './pages/RegistrationForm.jsx';\nimport CustomerVehicles from './pages/CustomerVehicles.jsx';\nimport Settings from './pages/Settings.jsx';\nimport Locations from './pages/Locations.jsx';\nimport Vehicles from './pages/Vehicles.jsx';\nimport Users from './pages/Users.jsx';\nimport VehicleType from './pages/VehicleType.jsx';\nimport Bookings from './pages/Bookings.jsx';\nimport config from './app.config';\nimport AppHeader from './components/AppHeader';\n\n\nconst AppWithRouterAccess = () => { \n  const history = useHistory();\n  const onAuthRequired = () => { \n    history.push('/login');\n  };\n\n  return (\n    <Security issuer={config.issuer}\n              pkce={false}\n              cookies={config.cookies}\n              clientId={config.client_id}\n              redirectUri={window.location.origin + '/implicit/callback'}\n              onAuthRequired={onAuthRequired}\n              >\n      <AppHeader />\n      <SecureRoute path='/' exact={true} component={Home} />\n\n      <SecureRoute path='/vehicletype' component={VehicleType} />\n      <SecureRoute path='/settings' component={Settings} />\n      <SecureRoute path='/locations' component={Locations} />\n      <SecureRoute path='/vehicles' component={Vehicles} />\n      <SecureRoute path='/users' component={Users} />\n\n      <SecureRoute path='/customervehicles' component={CustomerVehicles} />\n      <SecureRoute path='/bookings' component={Bookings} />\n      <SecureRoute path='/profile' component={ProfilePage} />\n\n      <Route path='/login' render={() => <Login issuer={config.issuer} />} />\n      <Route path=\"/register\" component={RegistrationForm} />\n      <Route path='/implicit/callback' component={LoginCallback} />\n    </Security>\n  );\n};\nexport default AppWithRouterAccess;","import React, { Fragment } from 'react';\nimport {\n  CssBaseline,\n  withStyles,\n} from '@material-ui/core';\n\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport AppWithRouterAccess from './AppWithRouterAccess';\n\nconst styles = theme => ({\n  main: {\n    padding: theme.spacing(0),\n    [theme.breakpoints.down('xs')]: {\n      padding: theme.spacing(2),\n    },\n  },\n});\n\nconst App = ({classes}) => { \n  return (\n    <Fragment>\n      <CssBaseline />\n      <main className={classes.main}>\n        <Router>\n          <AppWithRouterAccess/>\n        </Router>\n      </main>\n    </Fragment>\n  );\n}\n\nexport default withStyles(styles)(App);","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\nimport App from './App';\n// import * as serviceWorker from './serviceWorker';\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n"],"sourceRoot":""}